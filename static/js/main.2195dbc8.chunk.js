(this["webpackJsonpschedulestacker-js"]=this["webpackJsonpschedulestacker-js"]||[]).push([[0],{104:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(11),l=a.n(o),c=(a(96),a(42)),s=a(63),i=a(76),u=a(45),m=a.n(u),h=a(64),d=a(12),f=(a(98),a(75)),p=a(149),g=a(171),E=a(172),b=a(173),y=a(58),k=a(154),v=a(175),S=a(176),C=a(177),w=a(178),j=a(179),O=a(180),B=a(156),x=a(181),N=a(188),T=a(182),A=a(185),W=a(159),I=a(174),M=a(169),P=a(170),J=a(105),L=a(106),D=a(113),H=a(186),z=Object(p.a)((function(e){return{formControl:{minWidth:120,marginTop:e.spacing(1),marginBottom:e.spacing(2)}}}));function R(e){var t=z();return r.a.createElement("div",{className:"ChooseMS"},r.a.createElement(y.a,{gutterBottom:!0},"Welcome to ScheduleStacker JS!"),r.a.createElement(y.a,{gutterBottom:!0},"This is the web version of the original ScheduleStacker project. To learn more, please see the information button at the top right."),r.a.createElement(y.a,{gutterBottom:!0},'Please select the year of the Cherry Creek High School Master Schedule to generate schedules for, then press "Next". A computer is advised for the best experience. Hopefully you find this tool helpful!'),r.a.createElement(J.a,{className:t.formControl},r.a.createElement(L.a,{id:"year"},"Year"),r.a.createElement(D.a,{labelId:"year",id:"year",value:e.value,onChange:e.onChange},e.options.map((function(e){return r.a.createElement(H.a,{key:e.year,value:e},e.year)})))))}var F=a(155),G=a(187),q=a(183),K=Object(p.a)((function(e){return{autoButton:{display:"flex","align-items":"flex-end",marginTop:e.spacing(1),marginBottom:e.spacing(2)},autoComplete:{flex:1,marginRight:e.spacing(1)},chipsList:{display:"flex","flex-direction":"column","align-items":"flex-start",marginBottom:e.spacing(1)},chip:{marginBottom:e.spacing(1)}}}));function U(e){var t=K(),a=r.a.useState(),n=Object(d.a)(a,2),o=n[0],l=n[1];return r.a.createElement("div",{className:"ChooseCourses"},r.a.createElement(y.a,{gutterBottom:!0},"Add the courses to generate schedules for. Featuring fancy autocomplete when you type things in, and alphabetical classes sorted by subject number."),r.a.createElement("div",{className:t.autoButton},r.a.createElement(q.a,{className:t.autoComplete,key:o,id:"year",options:e.options.sort((function(e,t){return e.name>t.name?1:-1})).sort((function(e,t){return e.type-t.type})),groupBy:function(e){return e.type},getOptionLabel:function(e){return e.name},renderInput:function(e){return r.a.createElement(F.a,Object.assign({},e,{label:"Add a course"}))},blurOnSelect:!0,onChange:e.onChange}),r.a.createElement(B.a,{variant:"contained",color:"primary",onClick:function(){e.onAdd(),l(Math.random())}},"Add")),r.a.createElement("div",{className:t.chipsList},e.wanted.map((function(a){return r.a.createElement(G.a,{className:t.chip,variant:"outlined",key:a.name,label:a.name,onDelete:function(){return e.onDelete(a)}})}))))}var Y=a(107),$=a(157),Q=a(158),V=a(184),X=Object(p.a)((function(e){return{formControl:{marginTop:e.spacing(2),marginBottom:e.spacing(2)}}}));function Z(e){var t=X();return r.a.createElement("div",{className:"ChooseOffPeriods"},r.a.createElement(y.a,{gutterBottom:!0},'Check the boxes corresponding to the off periods you want. The generated schedules will always keep these periods free. If the schedule has more space for off periods than you have selected, the generator will add off periods whenever they are available and display all possible variations. If taking a class that spans two periods, do not select that you want an off period for the "half off period". If no offs are specified, all possible schedules with all off periods will be generated.'),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(y.a,{gutterBottom:!0},"Example: want period 5 lunch and have space for a second off period but don't know where. Only select period 5, the program will fill in the off periods wherever and show them all.")),r.a.createElement("li",null,r.a.createElement(y.a,{gutterBottom:!0},"Example: want either period 4 or 6 lunch, but not both. Don't select both of them together, as this means you want periods 4 and 6 off in the same schedule. One way to do this is to select neither and the scheduler will likely fill in 4 or 6 as natural off periods. Alternatively, select 4 in one run of the scheduler and select 6 in the next run."))),r.a.createElement(J.a,{className:t.formControl},r.a.createElement(Y.a,null,"Off Periods Required"),r.a.createElement($.a,null,e.options.map((function(t,a){return r.a.createElement(Q.a,{key:a,control:r.a.createElement(V.a,{checked:t,onChange:e.onChange,name:""+a}),label:"Period "+(a+1)})})))))}var _=a(110),ee=a(111),te=Object(p.a)((function(e){return{forms:{display:"flex","flex-direction":"column",marginTop:e.spacing(1),marginBottom:e.spacing(1)},formControl:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},backdrop:{display:"flex","flex-direction":"column",zIndex:e.zIndex.drawer+1,color:"#fff"},circle:{marginBottom:e.spacing(1)}}}));function ae(e){var t=te();return r.a.createElement("div",{className:"ChooseTeachers"},r.a.createElement(y.a,{gutterBottom:!0},"Check the boxes corresponding to teachers you want included in the generation process. At least one teacher must be selected for each course, and choosing two or more will allow either teacher to appear in each generated schedule. Keep in mind that it is possible no schedules exist for any given combination of teachers and courses. If you are experiencing performance problems and have selected many teachers, try reducing the number selected for each class as the number of combinations can increase very quickly."),r.a.createElement("div",{className:t.forms},Object.keys(e.options).map((function(a){return r.a.createElement(J.a,{className:t.formControl,key:a,error:!e.error(a)},r.a.createElement(Y.a,null,a),r.a.createElement($.a,null,Object.keys(e.options[a]).sort().map((function(t){return r.a.createElement(Q.a,{key:t,control:r.a.createElement(V.a,{checked:e.options[a][t],onChange:function(t){return e.onChange(t,a)},name:t}),label:t})}))),r.a.createElement(_.a,null,"Select at least one teacher"))}))),r.a.createElement(ee.a,{className:t.backdrop,open:e.open},r.a.createElement(W.a,{className:t.circle,color:"inherit"}),r.a.createElement(y.a,null,"Generated ",!isNaN(e.count)&&e.count.toString())))}var ne=a(160),re=a(161),oe=a(164),le=a(165),ce=a(166),se=a(167),ie=a(168),ue=a(78),me=a(162),he=a(163),de=Object(p.a)((function(e){return{tableContainer:{marginBottom:e.spacing(2)},periodHeaderCell:{minWidth:100},noBorderBottom:{borderBottom:"unset"},collapsableCell:{paddingBottom:0,paddingTop:0},detailTable:{marginBottom:e.spacing(2)}}})),fe=function(e){return null===e?"---":e.name+" - "+e.teacher+" - "+e.room};function pe(e){return r.a.createElement(re.a,null,r.a.createElement(ne.a,{variant:"head"},"Period ",e.periodNum+1),function(e){var t="---",a="---";return 1===e.length?a=t=fe(e[0]):2===e.length&&(t=fe(e[0]),a=fe(e[1])),r.a.createElement(r.a.Fragment,null,r.a.createElement(ne.a,null,t),r.a.createElement(ne.a,null,a))}(e.periodCourses))}function ge(e){var t=de(),a=r.a.useState(!1),n=Object(d.a)(a,2),o=n[0],l=n[1],c=function(){return l(!o)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(re.a,{onClick:c},r.a.createElement(ne.a,{className:t.noBorderBottom},r.a.createElement(k.a,{size:"small",onClick:c},o?r.a.createElement(me.a,null):r.a.createElement(he.a,null))),e.schedule.map((function(e){return r.a.createElement(ne.a,{className:t.noBorderBottom},function(e){switch(e.length){case 0:return"---";case 1:return e[0].name;case 2:return(e[0]&&e[0].name||"---")+", "+(e[1]&&e[1].name||"---");default:return"Invalid length of period array!"}}(e))}))),r.a.createElement(re.a,null,r.a.createElement(ne.a,{className:t.collapsableCell}),r.a.createElement(ne.a,{className:t.collapsableCell,colSpan:7},r.a.createElement(oe.a,{in:o,timeout:"auto",unmountOnExit:!0},r.a.createElement(y.a,{variant:"h6",gutterBottom:!0},"Schedule ",e.number,"/",e.total),r.a.createElement(le.a,{className:t.detailTable,size:"small"},r.a.createElement(ce.a,null,r.a.createElement(re.a,null,r.a.createElement(ne.a,null,"Schedule"),r.a.createElement(ne.a,null,"Semester 1"),r.a.createElement(ne.a,null,"Semester 2"))),r.a.createElement(se.a,null,e.schedule.map((function(e,t){return r.a.createElement(pe,{periodCourses:e,periodNum:t})})))))),r.a.createElement(ne.a,{className:t.collapsableCell})))}function Ee(e){var t=de(),a=Array(8).fill(0).map((function(e,t){return"Period "+(t+1)}));return r.a.createElement("div",{className:"ResultsTable"},r.a.createElement(y.a,{gutterBottom:!0},"Generated ",e.schedules.length," schedules in ",e.timeTaken/1e3,"s",0===e.schedules.length&&". No schedules for this combination seem to work... But if you do find one let me know!"),r.a.createElement(ie.a,{className:t.tableContainer,component:ue.a},r.a.createElement(le.a,{size:"small"},r.a.createElement(ce.a,null,r.a.createElement(re.a,null,r.a.createElement(ne.a,null),a.map((function(e){return r.a.createElement(ne.a,{key:e,className:t.periodHeaderCell},e)})))),r.a.createElement(se.a,null,e.schedules.map((function(t,a){return r.a.createElement(ge,{schedule:t,number:a+1,total:e.schedules.length})}))))))}var be=a(74),ye=a.n(be),ke=Object(f.a)({palette:{primary:M.a,secondary:P.a}}),ve=Object(p.a)((function(e){return{title:{flexGrow:1},buttonWrapper:{display:"flex",marginBottom:e.spacing(4)},backButton:{marginRight:e.spacing(1)},nextButtonWrapper:{position:"relative"},nextButtonProgress:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})),Se=[{year:"2020-2021",url:"https://raw.githubusercontent.com/Coreball/schedulestacker-data/master/json/MasterSchedule20202021.json"},{year:"2019-2020",url:"https://raw.githubusercontent.com/Coreball/schedulestacker-data/master/json/MasterSchedule20192020.json"},{year:"2018-2019",url:"https://raw.githubusercontent.com/Coreball/schedulestacker-data/master/json/MasterSchedule20182019.json"},{year:"2017-2018",url:"https://raw.githubusercontent.com/Coreball/schedulestacker-data/master/json/MasterSchedule20172018.json"}];var Ce=function(){var e=ve(),t=["Master Schedule","Courses","Off Periods","Teachers"],a=r.a.useState(!1),n=Object(d.a)(a,2),o=n[0],l=n[1],u=r.a.useState(0),f=Object(d.a)(u,2),p=f[0],M=f[1],P=r.a.useState(""),J=Object(d.a)(P,2),L=J[0],D=J[1],H=r.a.useState(""),z=Object(d.a)(H,2),F=z[0],G=z[1],q=r.a.useState(),K=Object(d.a)(q,2),Y=K[0],$=K[1],Q=r.a.useState([]),V=Object(d.a)(Q,2),X=V[0],_=V[1],ee=r.a.useState(Array(8).fill(!1)),te=Object(d.a)(ee,2),ne=te[0],re=te[1],oe=r.a.useState(""),le=Object(d.a)(oe,2),ce=le[0],se=le[1],ie=r.a.useState([]),ue=Object(d.a)(ie,2),me=ue[0],he=ue[1],de=r.a.useState(0),fe=Object(d.a)(de,2),pe=fe[0],ge=fe[1],be=r.a.useState(0),Ce=Object(d.a)(be,2),we=Ce[0],je=Ce[1],Oe=r.a.useState(!1),Be=Object(d.a)(Oe,2),xe=Be[0],Ne=Be[1],Te=function(){var e=Object(h.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Loading MS for "+t.year),l(!0),e.next=4,fetch(t.url);case 4:return a=e.sent,e.next=7,a.json();case 7:n=e.sent,console.log(n),G(n),_([]),re(Array(8).fill(!1)),se(""),l(!1),M(1);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ae=function(e){return Object.keys(ce[e]).some((function(t){return ce[e][t]}))},We=function(){var e={};X.forEach((function(t){var a={};Object.keys(t).forEach((function(e){"year"!==e&&"s1"!==e&&"s2"!==e||Object.keys(t[e]).forEach((function(n){t[e][n].forEach((function(e){e.teacher in a||function(e){return ne[e-1]}(e.period)||(a[e.teacher]=ce[t.name]&&ce[t.name][e.teacher]||!1)}))}))})),e[t.name]=a})),console.log(e),se(e)},Ie=function(){var e=Object(h.a)(m.a.mark((function e(t,a,n){var r,o,c,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),r=Date.now(),console.log("Starting schedule generation"),(o=ye()()).onmessage=function(e){return ge(e.data)},e.next=7,o.generateSchedules(t,a,n);case 7:c=e.sent,console.log("Finished schedule generation"),console.log(c),he(c),s=Date.now()-r,console.log("Time taken: "+s),je(s),l(!1),M(4),window.scrollTo(0,0);case 17:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),Me=function(e){D(e.target.value)},Pe=function(e,t){$(t)},Je=function(){console.log(Y),null==Y||X.some((function(e){return e.name===Y.name}))||_(X.concat(Y))},Le=function(e){console.log(e),_(X.filter((function(t){return t.name!==e.name})))},De=function(e){var t=Object(i.a)(ne);t[e.target.name]=e.target.checked,re(t)},He=function(e,t){se(Object(s.a)({},ce,Object(c.a)({},t,Object(s.a)({},ce[t],Object(c.a)({},e.target.name,e.target.checked)))))},ze=function(){return Ne(!1)};return r.a.createElement("div",{className:"App"},r.a.createElement(g.a,{theme:ke},r.a.createElement(E.a,{position:"static"},r.a.createElement(b.a,null,r.a.createElement(y.a,{variant:"h6",className:e.title},"SCHEDULESTACKER JS"),r.a.createElement(k.a,{color:"inherit"},r.a.createElement(I.a,{onClick:function(){return Ne(!0)}})))),r.a.createElement(v.a,{open:xe,onClose:ze},r.a.createElement(S.a,null,"About"),r.a.createElement(C.a,null,r.a.createElement(w.a,null,"ScheduleStacker JS is the successor to the original ScheduleStacker project, a tool I created in 2018 to generate schedules for Cherry Creek High School. By rewriting the Java application as a web app, SSJS aims to be easier to use for a greater number of people. You are encouraged to contribute! Create issues, fork, make pull requests. This project is meant to be collaborative and I can't work on it forever."),r.a.createElement(w.a,null,r.a.createElement(j.a,{href:"https://github.com/Coreball/schedulestacker-js",color:"secondary"},"ScheduleStacker JS GitHub Repository"),r.a.createElement("br",null),r.a.createElement(j.a,{href:"https://coreball.github.io/ScheduleStacker",color:"secondary"},"Original ScheduleStacker Website")),r.a.createElement(w.a,null,"Originally built by Changyuan Lin @Coreball.",r.a.createElement("br",null),"cl859@cornell.edu (formerly clin3@cherrycreekschools.org)"),r.a.createElement(w.a,null,"Thanks for checking it out!")),r.a.createElement(O.a,null,r.a.createElement(B.a,{onClick:ze,color:"primary"},"Ok"))),r.a.createElement(x.a,{maxWidth:"sm"},r.a.createElement(N.a,{activeStep:p,alternativeLabel:!0},t.map((function(e){return r.a.createElement(T.a,{key:e},r.a.createElement(A.a,null,e))})))),r.a.createElement(x.a,{maxWidth:p===t.length?"xl":"sm"},function(e){switch(e){case 0:return r.a.createElement(R,{options:Se,value:L,onChange:Me});case 1:return r.a.createElement(U,{options:F,onChange:Pe,onAdd:Je,wanted:X,onDelete:Le});case 2:return r.a.createElement(Z,{options:ne,onChange:De});case 3:return r.a.createElement(ae,{options:ce,onChange:He,error:Ae,open:o,count:pe});case 4:return r.a.createElement(Ee,{schedules:me,timeTaken:we});default:return"Unknown Step"}}(p)),r.a.createElement(x.a,{maxWidth:"sm"},r.a.createElement("div",{className:e.buttonWrapper},r.a.createElement(B.a,{className:e.backButton,disabled:0===p,onClick:function(){M((function(e){return e-1}))}},"Back"),p===t.length?r.a.createElement(B.a,{onClick:function(){M(0)}},"Start Over"):r.a.createElement("div",{className:e.nextButtonWrapper},r.a.createElement(B.a,{disabled:o||0===p&&!L||1===p&&X.length<1||3===p&&!Object.keys(ce).every((function(e){return Ae(e)})),onClick:function(){0===p?Te(L):2===p?(We(),M(3)):3===p?Ie(X,ne,ce):M((function(e){return e+1}))},variant:"contained",color:"primary"},p===t.length-1?"Finish":"Next"),o&&r.a.createElement(W.a,{className:e.nextButtonProgress,size:24}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ce,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},74:function(e,t,a){var n=a(103),r=["generateSchedules"];e.exports=function(){var e=new Worker(a.p+"4d2e2b7e4c790d6ea53a.worker.js",{name:"[hash].worker.js"});return n(e,r),e}},91:function(e,t,a){e.exports=a(104)},96:function(e,t,a){},98:function(e,t,a){}},[[91,1,2]]]);
//# sourceMappingURL=main.2195dbc8.chunk.js.map